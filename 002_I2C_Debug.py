#!/usr/bin/env python3
import socket

# 本地和目标
src_ip = "10.1.2.207"
dst_ip = "10.1.2.208"
port_rmt   = 11000
port_local = 11000

# 将十六进制字符串转成 bytes
hex_str = (
    "00 00 00 00 00 00 a0 00 10 00 00 8f 0a e0"
)
# fill to 40 bytes
hex_str += " 00" * (40 - len(hex_str.split()))
data = bytes.fromhex(hex_str)

MesGetStatus   =[0x00,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x03,0x04]
data_message = bytes(MesGetStatus)

MesGetI2C = [
    0x00,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x10,0x00,0x00,0x8f,0x0a,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x03,0x04
]
data_message = bytes(MesGetI2C)

# 建立 UDP socket
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# 绑定本地端口（源IP与端口）
sock.bind((src_ip, port_local))

# 发送数据
sock.sendto(data_message, (dst_ip, port_rmt))
print(f"Sent {len(data_message)} bytes from {src_ip}:{port_local} → {dst_ip}:{port_rmt}")

sock.close()